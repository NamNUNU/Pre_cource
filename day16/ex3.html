<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title></title>
    <script src="http://code.jquery.com/jquery-latest.min.js"></script>
  </head>
  <body>
    <div id="container"></div>
    <button type="button" name="button">button</button>
    <script type="text/javascript">
    var to_be_run_on_server_response = function(weather_data){
      $('#container').text("")
      $('#container').append(weather_data.main.temp + "<br>")
      $('#container').append(weather_data.main.temp_max + "<br>")
      $('#container').append(weather_data.main.temp_min + "<br>")
      $('#container').append(weather_data.wind.speed + "<br>")
      for(var c in weather_data.weather[0]){
        $('#container').append( c + ":")
        $('#container').append( weather_data.weather[0][c] + "<br>")
      }
      $('#container').append(new Date(weather_data.sys.sunrise * 1000) + "<br>")
      $('#container').append(new Date(weather_data.sys.sunset * 1000) + "<br>")
    }

    $.get('http://api.openweathermap.org/data/2.5/weather?q=San%20Francisco&mode=json&units=imperial&APPID=50209915e0bb37dacb88e9ee4f70d10b').success(to_be_run_on_server_response)

    $('button').on('click',function(event){
      event.preventDefault();
      $('#container').text("")
      $('#container').text("데이터 가져오는 중")
      $.get('http://api.openweathermap.org/data/2.5/weather?q=seoul&mode=json&units=imperial&APPID=50209915e0bb37dacb88e9ee4f70d10b').success(to_be_run_on_server_response)
    })
    </script>
  </body>
</html>
